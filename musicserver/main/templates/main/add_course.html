{% extends 'main/htmltemplate.html' %}

{% block title %} {{action}} курса {% endblock %}

{% block maincontent %}
<style>
    .emp-profile{
            padding: 3%;
            margin-top: 3%;
            margin-bottom: 3%;
            border-radius: 0.5rem;
            background: #ADD1CF;
        }
</style>
    <div class="container emp-profile" style="width: 65%;">
        <form method="POST" action="" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.media }}

            <div class="form-check form-switch pb-2">
                <input class="form-check-input" type="checkbox" name="is_course_active" id="id_is_course_active"
                {% if course and course.is_course_active %} checked="" {% endif %}>
                <label class="form-check-label" for="id_is_course_active">Курс активен</label>
            </div>

            <div class="form-floating mb-3">
                <input type="text" class="form-control" maxlength="100" name="course_name" id="id_course_name"
                       {% if course %} value="{{ course.course_name }}" {% endif %} placeholder="Название курса">
                <label for="id_course_name">Название курса:</label>
            </div>

            <div class="form-floating mb-3">
                <input type="text" class="form-control" maxlength="100" name="course_theme" id="id_course_theme"
                       {% if course %} value="{{ course.course_theme }}" {% endif %} placeholder="Тематика курса">
                <label for="id_course_theme">Тематика курса:</label>
            </div>

            <div class="form-floating mb-3">
                <textarea type="text" class="form-control" style="height: 200px;" name="course_description" id="id_course_description"
                          placeholder="Описание курса">{% if course %} {{ course.course_description }} {% endif %}</textarea>
                <label for="id_course_description">Описание курса:</label>
            </div>

            <p>
            {% if course %}
                <label for="id_course_avatar">Аватар Курса:</label>
                <br>
                <img src="/media/{{ course.course_avatar }}" class="card-img-top img-thumbnail"
                     alt="Аватар курса"
                     style="max-height:50px; max-width: 50px; padding: 0; margin: 0">
            {% endif %}
                <input type="file" name="course_avatar" accept="image/*" id="id_course_avatar" placeholder="Поменять">
            </p>

            <input type="hidden" name="course" value="{{ course }}">
            <input type="submit" value="{{ button_text }}" class="btn btn-primary" style="border-radius: 7px;">
            <a href="{% url 'my_courses' %}"><button class="fill-secondary" style="margin-top: 10px; margin-left: 0;" type="button">Отмена</button></a>
        </form>
        
    </div>
{% endblock %}